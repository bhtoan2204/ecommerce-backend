{"level":"WARN","timestamp":"2025-05-24T23:29:42.689+0700","caller":"postgresql/connection.go:54","msg":"Initial DB connection failed","attempt":1,"error":"failed to connect to `user=root database=ecom_user`: 127.0.0.1:5432 (localhost): failed SASL auth: FATAL: password authentication failed for user \"root\" (SQLSTATE 28P01)"}
{"level":"WARN","timestamp":"2025-05-24T23:29:44.696+0700","caller":"postgresql/connection.go:54","msg":"Initial DB connection failed","attempt":2,"error":"failed to connect to `user=root database=ecom_user`: 127.0.0.1:5432 (localhost): failed SASL auth: FATAL: password authentication failed for user \"root\" (SQLSTATE 28P01)"}
{"level":"WARN","timestamp":"2025-05-24T23:29:46.700+0700","caller":"postgresql/connection.go:54","msg":"Initial DB connection failed","attempt":3,"error":"failed to connect to `user=root database=ecom_user`: 127.0.0.1:5432 (localhost): failed SASL auth: FATAL: password authentication failed for user \"root\" (SQLSTATE 28P01)"}
{"level":"WARN","timestamp":"2025-05-24T23:29:48.707+0700","caller":"postgresql/connection.go:54","msg":"Initial DB connection failed","attempt":4,"error":"failed to connect to `user=root database=ecom_user`: 127.0.0.1:5432 (localhost): failed SASL auth: FATAL: password authentication failed for user \"root\" (SQLSTATE 28P01)"}
{"level":"WARN","timestamp":"2025-05-24T23:29:50.712+0700","caller":"postgresql/connection.go:54","msg":"Initial DB connection failed","attempt":5,"error":"failed to connect to `user=root database=ecom_user`: 127.0.0.1:5432 (localhost): failed SASL auth: FATAL: password authentication failed for user \"root\" (SQLSTATE 28P01)"}
{"level":"FATAL","timestamp":"2025-05-24T23:29:52.713+0700","caller":"postgresql/connection.go:60","msg":"Failed to connect to DB after 5 attempts","error":"failed to connect to `user=root database=ecom_user`: 127.0.0.1:5432 (localhost): failed SASL auth: FATAL: password authentication failed for user \"root\" (SQLSTATE 28P01)","stacktrace":"user/app/infrastructure/persistent/postgresql.(*PostgresDB).initDB\n\t/home/bhtoan2204/ecommerce-backend/app/user/app/infrastructure/persistent/postgresql/connection.go:60\nuser/app/infrastructure/persistent/postgresql.NewPostgresDB\n\t/home/bhtoan2204/ecommerce-backend/app/user/app/infrastructure/persistent/postgresql/connection.go:24\nuser/app/presentation.NewApp\n\t/home/bhtoan2204/ecommerce-backend/app/user/app/presentation/app.go:39\nmain.start\n\t/home/bhtoan2204/ecommerce-backend/app/user/cmd/main.go:31\nmain.main\n\t/home/bhtoan2204/ecommerce-backend/app/user/cmd/main.go:26\nruntime.main\n\t/usr/lib/go-1.24/src/runtime/proc.go:283"}
{"level":"INFO","timestamp":"2025-05-24T23:31:22.077+0700","caller":"postgresql/connection.go:43","msg":"Connecting to Postgres DB","dsn":"host=localhost port=5432 user=root password=root dbname=ecom_user sslmode=disable"}
{"level":"WARN","timestamp":"2025-05-24T23:31:22.081+0700","caller":"postgresql/connection.go:54","msg":"Initial DB connection failed","attempt":1,"error":"failed to connect to `user=root database=ecom_user`: 127.0.0.1:5432 (localhost): failed SASL auth: FATAL: password authentication failed for user \"root\" (SQLSTATE 28P01)"}
{"level":"WARN","timestamp":"2025-05-24T23:31:24.085+0700","caller":"postgresql/connection.go:54","msg":"Initial DB connection failed","attempt":2,"error":"failed to connect to `user=root database=ecom_user`: 127.0.0.1:5432 (localhost): failed SASL auth: FATAL: password authentication failed for user \"root\" (SQLSTATE 28P01)"}
{"level":"WARN","timestamp":"2025-05-24T23:31:26.091+0700","caller":"postgresql/connection.go:54","msg":"Initial DB connection failed","attempt":3,"error":"failed to connect to `user=root database=ecom_user`: 127.0.0.1:5432 (localhost): failed SASL auth: FATAL: password authentication failed for user \"root\" (SQLSTATE 28P01)"}
{"level":"WARN","timestamp":"2025-05-24T23:31:28.096+0700","caller":"postgresql/connection.go:54","msg":"Initial DB connection failed","attempt":4,"error":"failed to connect to `user=root database=ecom_user`: 127.0.0.1:5432 (localhost): failed SASL auth: FATAL: password authentication failed for user \"root\" (SQLSTATE 28P01)"}
{"level":"WARN","timestamp":"2025-05-24T23:31:30.101+0700","caller":"postgresql/connection.go:54","msg":"Initial DB connection failed","attempt":5,"error":"failed to connect to `user=root database=ecom_user`: 127.0.0.1:5432 (localhost): failed SASL auth: FATAL: password authentication failed for user \"root\" (SQLSTATE 28P01)"}
{"level":"FATAL","timestamp":"2025-05-24T23:31:32.101+0700","caller":"postgresql/connection.go:60","msg":"Failed to connect to DB after 5 attempts","error":"failed to connect to `user=root database=ecom_user`: 127.0.0.1:5432 (localhost): failed SASL auth: FATAL: password authentication failed for user \"root\" (SQLSTATE 28P01)","stacktrace":"user/app/infrastructure/persistent/postgresql.(*PostgresDB).initDB\n\t/home/bhtoan2204/ecommerce-backend/app/user/app/infrastructure/persistent/postgresql/connection.go:60\nuser/app/infrastructure/persistent/postgresql.NewPostgresDB\n\t/home/bhtoan2204/ecommerce-backend/app/user/app/infrastructure/persistent/postgresql/connection.go:24\nuser/app/presentation.NewApp\n\t/home/bhtoan2204/ecommerce-backend/app/user/app/presentation/app.go:39\nmain.start\n\t/home/bhtoan2204/ecommerce-backend/app/user/cmd/main.go:31\nmain.main\n\t/home/bhtoan2204/ecommerce-backend/app/user/cmd/main.go:26\nruntime.main\n\t/usr/lib/go-1.24/src/runtime/proc.go:283"}
{"level":"INFO","timestamp":"2025-05-24T23:31:47.322+0700","caller":"postgresql/connection.go:43","msg":"Connecting to Postgres DB","dsn":"host=localhost port=5432 user=root password=root dbname=ecom_user sslmode=disable"}
{"level":"WARN","timestamp":"2025-05-24T23:31:47.327+0700","caller":"postgresql/connection.go:54","msg":"Initial DB connection failed","attempt":1,"error":"failed to connect to `user=root database=ecom_user`: 127.0.0.1:5432 (localhost): failed SASL auth: FATAL: password authentication failed for user \"root\" (SQLSTATE 28P01)"}
{"level":"WARN","timestamp":"2025-05-24T23:31:49.332+0700","caller":"postgresql/connection.go:54","msg":"Initial DB connection failed","attempt":2,"error":"failed to connect to `user=root database=ecom_user`: 127.0.0.1:5432 (localhost): failed SASL auth: FATAL: password authentication failed for user \"root\" (SQLSTATE 28P01)"}
{"level":"WARN","timestamp":"2025-05-24T23:31:51.336+0700","caller":"postgresql/connection.go:54","msg":"Initial DB connection failed","attempt":3,"error":"failed to connect to `user=root database=ecom_user`: 127.0.0.1:5432 (localhost): failed SASL auth: FATAL: password authentication failed for user \"root\" (SQLSTATE 28P01)"}
{"level":"WARN","timestamp":"2025-05-24T23:34:24.624+0700","caller":"postgresql/connection.go:54","msg":"Initial DB connection failed","attempt":4,"error":"failed to connect to `user=root database=ecom_user`: 127.0.0.1:5432 (localhost): failed SASL auth: FATAL: password authentication failed for user \"root\" (SQLSTATE 28P01)"}
{"level":"INFO","timestamp":"2025-05-24T23:34:26.632+0700","caller":"postgresql/connection.go:48","msg":"Connected to DB","attempt":5}
{"level":"INFO","timestamp":"2025-05-24T23:34:26.675+0700","caller":"cmd/main.go:41","msg":"Starting application"}
{"level":"INFO","timestamp":"2025-05-24T23:34:26.689+0700","caller":"presentation/app.go:110","msg":"Starting GRPC Server","ip":"::","port":"5010"}
{"level":"INFO","timestamp":"2025-05-24T23:34:26.689+0700","caller":"server/server.go:88","msg":"ServeGRPC: gRPC server started","addr":"[::]:5010"}
{"level":"INFO","timestamp":"2025-05-24T23:34:26.689+0700","caller":"server/server.go:84","msg":"ServeGRPC: shutting down"}
{"level":"INFO","timestamp":"2025-05-24T23:34:26.689+0700","caller":"server/server.go:94","msg":"ServeGPRC: serve stopped"}
{"level":"INFO","timestamp":"2025-05-24T23:34:28.461+0700","caller":"postgresql/connection.go:43","msg":"Connecting to Postgres DB","dsn":"host=localhost port=5432 user=root password=root dbname=ecom_user sslmode=disable"}
{"level":"INFO","timestamp":"2025-05-24T23:34:28.467+0700","caller":"postgresql/connection.go:48","msg":"Connected to DB","attempt":1}
{"level":"INFO","timestamp":"2025-05-24T23:34:28.575+0700","caller":"cmd/main.go:41","msg":"Starting application"}
{"level":"INFO","timestamp":"2025-05-24T23:34:28.584+0700","caller":"presentation/app.go:110","msg":"Starting GRPC Server","ip":"::","port":"5010"}
{"level":"INFO","timestamp":"2025-05-24T23:34:28.584+0700","caller":"server/server.go:88","msg":"ServeGRPC: gRPC server started","addr":"[::]:5010"}
{"level":"INFO","timestamp":"2025-05-24T23:35:40.636+0700","caller":"server/server.go:84","msg":"ServeGRPC: shutting down"}
{"level":"INFO","timestamp":"2025-05-24T23:35:40.636+0700","caller":"server/server.go:94","msg":"ServeGPRC: serve stopped"}
{"level":"INFO","timestamp":"2025-05-24T23:49:43.247+0700","caller":"postgresql/connection.go:43","msg":"Connecting to Postgres DB","dsn":"host=localhost port=5432 user=root password=root dbname=ecom_user sslmode=disable"}
{"level":"INFO","timestamp":"2025-05-24T23:49:43.268+0700","caller":"postgresql/connection.go:48","msg":"Connected to DB","attempt":1}
{"level":"INFO","timestamp":"2025-05-24T23:49:43.384+0700","caller":"cmd/main.go:41","msg":"Starting application"}
{"level":"INFO","timestamp":"2025-05-24T23:49:43.394+0700","caller":"presentation/app.go:112","msg":"Starting GRPC Server","ip":"::","port":"5010"}
{"level":"INFO","timestamp":"2025-05-24T23:49:43.394+0700","caller":"presentation/app.go:64","msg":"Metric running on PORT","port":"7070"}
{"level":"INFO","timestamp":"2025-05-24T23:49:43.394+0700","caller":"server/server.go:88","msg":"ServeGRPC: gRPC server started","addr":"[::]:5010"}
{"level":"INFO","timestamp":"2025-05-24T23:51:56.152+0700","caller":"server/server.go:53","msg":"ServeHTTP: shutting down"}
{"level":"INFO","timestamp":"2025-05-24T23:51:56.152+0700","caller":"server/server.go:84","msg":"ServeGRPC: shutting down"}
{"level":"INFO","timestamp":"2025-05-24T23:51:56.153+0700","caller":"server/server.go:63","msg":"ServeHTTP: serve stopped"}
{"level":"INFO","timestamp":"2025-05-24T23:51:56.153+0700","caller":"server/server.go:94","msg":"ServeGPRC: serve stopped"}
{"level":"INFO","timestamp":"2025-05-25T00:09:00.907+0700","caller":"postgresql/connection.go:43","msg":"Connecting to Postgres DB","dsn":"host=localhost port=5432 user=root password=root dbname=ecom_user sslmode=disable"}
{"level":"INFO","timestamp":"2025-05-25T00:09:00.915+0700","caller":"postgresql/connection.go:48","msg":"Connected to DB","attempt":1}
{"level":"INFO","timestamp":"2025-05-25T00:09:01.021+0700","caller":"cmd/main.go:41","msg":"Starting application"}
{"level":"INFO","timestamp":"2025-05-25T00:09:01.030+0700","caller":"presentation/app.go:112","msg":"Starting GRPC Server","ip":"::","port":"5010"}
{"level":"INFO","timestamp":"2025-05-25T00:09:01.030+0700","caller":"presentation/app.go:64","msg":"Metric running on PORT","port":"7070"}
{"level":"INFO","timestamp":"2025-05-25T00:09:01.030+0700","caller":"server/server.go:88","msg":"ServeGRPC: gRPC server started","addr":"[::]:5010"}
{"level":"INFO","timestamp":"2025-05-25T00:09:02.254+0700","caller":"server/server.go:53","msg":"ServeHTTP: shutting down"}
{"level":"INFO","timestamp":"2025-05-25T00:09:02.254+0700","caller":"server/server.go:63","msg":"ServeHTTP: serve stopped"}
{"level":"INFO","timestamp":"2025-05-25T00:09:02.254+0700","caller":"server/server.go:84","msg":"ServeGRPC: shutting down"}
{"level":"INFO","timestamp":"2025-05-25T00:09:02.255+0700","caller":"server/server.go:94","msg":"ServeGPRC: serve stopped"}
{"level":"INFO","timestamp":"2025-05-25T00:30:05.555+0700","caller":"postgresql/connection.go:43","msg":"Connecting to Postgres DB","dsn":"host=localhost port=5432 user=root password=root dbname=ecom_user sslmode=disable"}
{"level":"INFO","timestamp":"2025-05-25T00:30:05.563+0700","caller":"postgresql/connection.go:48","msg":"Connected to DB","attempt":1}
{"level":"INFO","timestamp":"2025-05-25T00:30:05.671+0700","caller":"cmd/main.go:41","msg":"Starting application"}
{"level":"WARN","timestamp":"2025-05-25T00:30:05.679+0700","caller":"presentation/app.go:60","msg":"New server metric","error":"listen tcp :7070: bind: address already in use"}
{"level":"ERROR","timestamp":"2025-05-25T00:30:05.679+0700","caller":"presentation/app.go:109","msg":"Error occurs","error":"listen tcp :5010: bind: address already in use","stacktrace":"user/app/presentation.(*app).Start\n\t/home/bhtoan2204/ecommerce-backend/app/user/app/presentation/app.go:109\nmain.start\n\t/home/bhtoan2204/ecommerce-backend/app/user/cmd/main.go:42\nmain.main\n\t/home/bhtoan2204/ecommerce-backend/app/user/cmd/main.go:26\nruntime.main\n\t/usr/lib/go-1.24/src/runtime/proc.go:283"}
{"level":"INFO","timestamp":"2025-05-25T00:32:13.604+0700","caller":"postgresql/connection.go:43","msg":"Connecting to Postgres DB","dsn":"host=localhost port=5432 user=root password=root dbname=ecom_user sslmode=disable"}
{"level":"INFO","timestamp":"2025-05-25T00:32:13.610+0700","caller":"postgresql/connection.go:48","msg":"Connected to DB","attempt":1}
{"level":"INFO","timestamp":"2025-05-25T00:32:13.711+0700","caller":"cmd/main.go:41","msg":"Starting application"}
{"level":"INFO","timestamp":"2025-05-25T00:32:13.721+0700","caller":"presentation/app.go:112","msg":"Starting GRPC Server","ip":"::","port":"5010"}
{"level":"INFO","timestamp":"2025-05-25T00:32:13.721+0700","caller":"server/server.go:88","msg":"ServeGRPC: gRPC server started","addr":"[::]:5010"}
{"level":"INFO","timestamp":"2025-05-25T00:32:13.721+0700","caller":"presentation/app.go:64","msg":"Metric running on PORT","port":"7070"}
{"level":"INFO","timestamp":"2025-05-25T00:32:16.427+0700","caller":"server/server.go:84","msg":"ServeGRPC: shutting down"}
{"level":"INFO","timestamp":"2025-05-25T00:32:16.427+0700","caller":"server/server.go:53","msg":"ServeHTTP: shutting down"}
{"level":"INFO","timestamp":"2025-05-25T00:32:16.428+0700","caller":"server/server.go:63","msg":"ServeHTTP: serve stopped"}
{"level":"INFO","timestamp":"2025-05-25T00:32:16.428+0700","caller":"server/server.go:94","msg":"ServeGPRC: serve stopped"}
{"level":"INFO","timestamp":"2025-05-25T00:32:44.354+0700","caller":"postgresql/connection.go:43","msg":"Connecting to Postgres DB","dsn":"host=localhost port=5432 user=root password=root dbname=ecom_user sslmode=disable"}
{"level":"INFO","timestamp":"2025-05-25T00:32:44.361+0700","caller":"postgresql/connection.go:48","msg":"Connected to DB","attempt":1}
{"level":"INFO","timestamp":"2025-05-25T00:32:44.507+0700","caller":"cmd/main.go:41","msg":"Starting application"}
{"level":"INFO","timestamp":"2025-05-25T00:33:02.517+0700","caller":"presentation/app.go:112","msg":"Starting GRPC Server","ip":"::","port":"5010"}
{"level":"INFO","timestamp":"2025-05-25T00:33:02.517+0700","caller":"presentation/app.go:64","msg":"Metric running on PORT","port":"36093"}
{"level":"INFO","timestamp":"2025-05-25T00:33:02.517+0700","caller":"server/server.go:88","msg":"ServeGRPC: gRPC server started","addr":"[::]:5010"}
{"level":"INFO","timestamp":"2025-05-25T01:19:07.558+0700","caller":"server/server.go:84","msg":"ServeGRPC: shutting down"}
{"level":"INFO","timestamp":"2025-05-25T01:19:07.558+0700","caller":"server/server.go:53","msg":"ServeHTTP: shutting down"}
{"level":"INFO","timestamp":"2025-05-25T01:19:07.560+0700","caller":"server/server.go:63","msg":"ServeHTTP: serve stopped"}
{"level":"INFO","timestamp":"2025-05-25T01:19:07.561+0700","caller":"server/server.go:94","msg":"ServeGPRC: serve stopped"}
